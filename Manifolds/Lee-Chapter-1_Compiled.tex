\documentclass[../main-manifolds.tex]{subfiles}

\begin{document}
\providecommand{\szz}{\mathcal{S}}
\providecommand{\ccinf}{C_c^\infty}

% Topologies
\providecommand{\Taux}{\Tau_\xx}
\providecommand{\Tauy}{\Tau_\yy}
\providecommand{\Tauxy}{\Tau_{\xx\times\yy}}

% Basis
\providecommand{\Bx}{\borel_\xx}
\providecommand{\By}{\borel_\yy}
\providecommand{\Bxy}{\borel_{\xx\times\yy}}


\fchapter{1: Topological Manifolds}
\newpage
\topheader{Topological Manifolds}
The study of differential geometry begins with tens of pages of definitions.
\begin{definition}[Topological Manifold]\label{lee-chp1:topological-manifold-definition}
    Let $M$ be a topological space. $M$ is a topological manifold of dimension $m$ if it is Hausdorff, second-countable, and locally homeomorphic to $\realn$.
\end{definition}

\begin{definition}[Local homeomorphism]\label{lee-chp1:locally-homeomorphic-definition}
    $M$ locally homeomorphic to $\realn$ if every point $x\in M$ an open set $U$, equipped with a homeomorphism which sends points in $U$ into an open subset of $\realn$. 
    \[
        \phi: U\to \phi(U)
    \] 
    The tuple $(U,\phi)$ is called a coordinate chart.
\end{definition}

\begin{definition}[More on coordinate charts]\label{lee-chp1:coordinate-chart-definition}
    \begin{itemize}
        \item A coordinate chart $(U,\phi)$ is centered at $p\in M$ if $p\in U$ and $\phi(p)=0\in\realn$.
        \item We call $U$ the coordinate domain, and
        \item we call $\phi$ the coordinate map.
        \item If the choice of $(U,\phi)$ is unambiguous, then the local coordinates of $p$ are simply the coordinates of $\phi(p)$ in $\realn$, and
        \item we sometimes also denote $\phi(U)$ by $\hat{U}$ if it is unambiguous to do so.
        \item If $\hat{U}$ is an open ball/cube, then $U$ is called a coordinate ball/cube.
    \end{itemize}
\end{definition}

The central theme of point-set topology (or even metric topology) is that of passing a topological argument to the basis or to a neighbourhood. Manifolds in particular have a nice basis.
\begin{wts}[Basis of precompact coordinate balls]
    Every topological manifold has a countable basis of precompact coordinate balls.
\end{wts}
\begin{wts}[Additional facts about topological manifolds]
If $M$ is a topological manifold, 
\begin{itemize}
    \item $M$ is locally compact. (Lee, Proposition 1.12)
    \item $M$ is paracompact, and every open cover has a refinement 
    that is another countably locally finite open cover whose elements are chosen from an arbitrary (but fixed) basis of $M$. (Lee, Theorem 1.15)
    \item $M$ is locally-path connected.
    \item $M$ is connected iff it is path-connected.
    \item $M$ is metrizable. (Munkres Chapter 6)
\end{itemize}
\end{wts}

\topheader{Smooth Manifolds}
We wish to perform calculus on manifolds.
\begin{definition}[Smooth function $F:\realn\to\realm$]\label{lee-chp1:real-smooth-function}
    Let $F:\realn\to\realm$, replacing $\realn$ and $\realm$ with open subsets if necessary. $F$ is smooth its component functions has continuous partial derivatives of all orders. The set of smooth functions from $\realn$ to $\realm$ is sometimes denoted by $\cinf[\realn,\realm]$. If $m=1$, we sometimes write $\cinf[\realn]$, similar to a test function on the Swartz space.
\end{definition}

\begin{definition}[Transition map from $\phi$ to $\psi$]\label{lee-chp1:transition-maps}
    Let $(U,\phi)$ and $(V,\psi)$ be coordinate charts on $M$. The composite function (whenever $U\cap V\neq\varnothing$) 
    \[
    \psi\circ\phi^{-1}:\phi(U\cap V)\to\psi(U\cap V)
    \] 
    is called the transition map. Notice $\psi\circ\phi^{-1}$ is by definition a homeomorphism.
\end{definition}

\begin{definition}[Smoothly compatiable]\label{lee-chp1:smoothly-compatible}
    Two coordinate charts on $M$, $(U,\phi)$ and $(V,\psi)$ are called smoothly compatible if either their domains are disjoint, or their transition map is a diffeomorphism on $\realm$.
\end{definition}

\begin{definition}[Smooth atlas]\label{lee-chp1:smooth-atlas}
    An atlas $\acal$ of $M$ is a collection of charts $\{(U_\alpha, \phi_\alpha)\}$ whose collection of coordinate domains $\{U_\alpha\}$ for an open cover of $M$.\\ It is called a smooth atlas if any two charts in the atlas are pairwise smoothly compatible.
\end{definition}

\begin{definition}[Smooth manifold]\label{lee-chp1:smooth-manifold}
    A smooth atlas $\acal$ on $M$ is maximal if it is not contained (properly) in any other smooth atlas as a subset. In other words, if $(U',\phi')$ is a chart on $M$ that is smoothly compatible with all elements in $\acal$, then $(U',\phi')\in\acal$ already.\\
    
    This smooth atlas is often very large, it includes all translations of charts, dilations, and composition with diffeomorphisms in $\realm$, restrictions onto open subsets, etc. A maximal smooth atlas is sometimes called a complete atlas, or a smooth manifold structure.\\

    A smooth manifold is the tuple $(M,\acal)$, where $\acal$ is some smooth atlas. It can happen if $M$ is originally a topological manifold with a huge number of charts, some of which are smoothly compatible with others, that $\acal$ is a strict subset, and both $\acal_1$ and $\acal_2$ are maximal smooth atlases on $M$, but $\acal_1\neq\acal_2$. We often omit $\acal$ and write $M$ if the smooth atlas is understood or not of importance.
\end{definition}

\begin{definition}[Smooth coordinate terminologies]\label{lee-chp1:smooth-coordinate-definitions}
    Let $(M,\acal)$ be a smooth manifold. 
    \begin{itemize}
        \item Any coordinate chart $(U,\phi)\in\acal$ is called a smooth chart, similar to \cref{lee-chp1:coordinate-chart-definition}
        \item We call $U$ the \emph{smooth coordinate domain} or \emph{smooth coordinate neighbourhood} of any $p\in U$, and
        \item we call $\phi$ the \emph{smooth coordinate map}.
        \item The terms \emph{smooth coordinate ball} and \emph{smooth coordinate cube} are used similarly.
        \item A set $B\subseteq M$ is a \emph{regular coordinate ball} if its image is a smooth coordinate ball centered at the origin; and the closure of this ball in $\realm$ is a subset of the image of another smooth coordinate ball, centered at the origin.
    \end{itemize}
\end{definition}

\begin{definition}[Standard smooth structure on $\realn$]\label{lee-chp1:standard-smooth-structure-realn}
    The maximal smooth atlas containing $(\realn,\id{\realn})$ is called the \emph{standard smooth structure on $\realn$}.
\end{definition}

Manifolds with boundary are not that important as regular manifolds, but they are worth mentioning.
\begin{definition}[Closed n-dimensional upper half-space $\halfn\subseteq\realn$]\label{lee-chp1:upper-half-plane-definitions}
    We define the following symbols for the upper half plane.
    \begin{itemize}
        \item $\halfn = \bigset{x\in\realn,\: x^n\geq 0}$,
        \item $\Int\halfn = \bigset{x\in\realn,\: x^n > 0}$,
        \item $\partial\halfn = \bigset{x\in\realn,\: x^n = 0}$
    \end{itemize}
\end{definition}
\begin{definition}[Manifolds with boundary]\label{lee-chp1:manifolds-with-boundary-definition}
    A topological space $M$ is called a manifold with boundary if it is Hausdorff, second-countable, and locally homeomorphic to an open subset of $\halfn$ (endowed with the subspace topology from $\realn$).\\

    A chart $(U,\phi)$ is an \emph{interior chart} if its coordinate image is disjoint from the 'boundary' of the upper-half plane. This means $\phi(U)\cap \partial\halfn=\varnothing$.
\end{definition}
The $n$-sphere as a topological manifold. Define 
\[
    S^n = \bigset{x\in\real^{n+1},\: |x|=1}
\]
We claim that $\{U_i^{\pm}\}_{i=1}^{n+1}$ form an open cover, where
\[
    U_i^+ = \bigset{x\in S^n, x^i>0}\quad U_i^- = \bigset{x\in S^n, x^i<0}
\]
Each $U_i^{\pm}$ is the inverse image of $\pnv{i}{(0,+\infty)}\cap S^n$ or $\pnv{i}{(0,-\infty)}\cap S^n$, hence open. For every $x\in S^n$, there exists at least some $1\leq j\leq n+1$ that makes the $j$-th coordinate of $x$, $x^j\neq 0$. So 
\[
    S^n = \bigcup_{i}U_i^\pm
\]
Denote the unit ball $\bigset{x\in\realn,\: |x|<1}$ in $\realn$ by $\borel^n$. 

\newpage

\fchapter{2: Smooth Maps}

\newpage

\fchapter{3: Tangent Spaces}
We will go through the section on the Change of Coordinates, and how different coordinate charts change the representation of a derivation at $p\in M$, where $M$ is some smooth  manifold.
\begin{wts}
    Let $M$ be a smooth manifold, and fix $p\in M$. If $\nu\in T_pM$ is given with respect to the bases
    \[
        \bigset{\eval{\pdv{x^1}}_{p},\ldots,\eval{\pdv{x^m}}_{p}}\qq{and}\bigset{\eval{\pdv{y^1}}_p,\ldots,\eval{\pdv{y^m}}_{p}}
    \]
    Defined by 
    \[\eval{\pdv{x^j}}_{p}\defined d\qty(\eval{\phi^{-1}}_{\phi(p)})\qty(\eval{\pdv{x^j}}_{\phi(p)})
    \qq{and}
    \eval{\pdv{y^j}}_{p}\defined d\qty(\eval{\psi^{-1}}_{\psi(p)})\qty(\eval{\pdv{y^j}}_{\psi(p)})\]
    and we write $\nu$ in terms of the first basis
    \[
        \nu = \nu^j\eval{\pdv{x^j}}_{p} = \sum_{j=1}^m \nu^j\eval{\pdv{x^j}}_{p}
    \]
    and the second basis
    \[
        \nu = \nu^j\eval{\pdv{y^k}{x^j}}_{\phi(p)}\eval{\pdv{y^k}}_{p} = \sum_{k=1}^m\sum_{j=1}^m \nu^j\eval{\pdv{y^k}{x^j}}_{\phi(p)}\eval{\pdv{y^k}}_p
    \]
    If $f\in \cinf[M]$, then 
    \[
        \nu(f) = \nu^j\eval{\pdv{x^j}}_{p} f =\nu^j\eval{\pdv{y^k}{x^j}}_{\phi(p)}\eval{\pdv{y^k}}_{p} f
    \]
\end{wts}
\begin{proof}
    Recall $\eval{\pdv{x^j}}_{p}f \defined \eval{\pdv{x^j}}_{\phi(p)} f\circ\phi^{-1}$, similarly for $\eval{\pdv{y^j}}_{p}f$. Deriving $f$ and $p$ and by vector space operations on $T_pM$, the first basis expansion gives
    \begin{equation}\label{lee-chap-1-basis-expansion-1}
        \nu^j\eval{\pdv{x^j}}_{p}f = \nu^j\eval{\pdv{x^j}}_{\phi(p)}f\circ\phi^{-1}
    \end{equation}
    and the second expression reads
    \begin{equation}\label{lee-chap-1-basis-expansion-2}
        \nu^j\eval{\pdv{y^k}{x^j}}_{\phi(p)}\eval{\pdv{y^k}}_p f = \nu^j\eval{\pdv{y^k}{x^j}}_{\phi(p)}\eval{\pdv{y^k}}_{\psi(p)}f\circ\psi^{-1}
    \end{equation}
    
    Since $f\circ\phi^{-1}\in \cinf[\realm,\real]$, we see the expressions are indeed equal. By the chain rule, if
    \[
        \psi\circ\phi^{-1}(x^1,\ldots x^m) = (y^1,\ldots y^m)
    \]
    then
    \[
        D(\psi\circ\phi^{-1})(\phi(p)) = \begin{bmatrix}\eval{\pdv{y^1}{x^1}}_{\phi(p)} & \eval{\pdv{y^1}{x^2}}_{\phi(p)} & \cdots & \cdots & \eval{\pdv{y^1}{x^m}}_{\phi(p)} \\[1em] \eval{\pdv{y^2}{x^1}}_{\phi(p)} & \eval{\pdv{y^2}{x^2}}_{\phi(p)} & \cdots & \cdots & \eval{\pdv{y^2}{x^m}}_{\phi(p)} \\[1em] \vdots & \vdots & \vdots & \vdots & \vdots \\[1em] \vdots & \vdots & \vdots & \vdots & \vdots \\[1em] \eval{\pdv{y^m}{x^1}}_{\phi(p)} & \eval{\pdv{y^m}{x^2}}_{\phi(p)} & \cdots & \cdots & \eval{\pdv{y^m}{x^m}}_{\phi(p)}\end{bmatrix}
    \]
    It follows from Proposition 3.6d) that the matrix $\eval{D(\psi\circ\phi^{-1})}_{\phi(p)}$ is invertible, as $\psi\circ\phi^{-1}$ is a diffeomorphism.
\end{proof}

An important application of this is the following. We begin with the $\realm\to\realn$ case. We will see that if $p$ and $F(p)$ are represented by another pair of coordinate charts (smoothly compatible with the previous pair), then the rank of $dF_p$ does not change. So the rank of the differential is an invariant of the choice of coordinate chart.

\begin{definition}[Matrix representation of the differential of $F:\realm\to\realn$]
Let $F\in \cinf[\realm,\realn]$, and $p\in\realm$ induces two charts $p\in (U,\id{\realm})$ and $F(p)\in(V\,\id{\realn})$, where $U\subseteq\realm$ and $V\subseteq\realn$. The matrix representation of the differential at $p$, $dF_p: T_p\realm\to T_{F(p)}\realn$ is nothing but the Jacobian matrix of $F$ at $p$.

\begin{equation}\label{lee-chap3:euclidean-differential-jacobian}
    \mcal\{dF_p\} = DF(p) = \begin{bmatrix}
        \eval{\pdv{F^1}{x^1}}_{p} & \eval{\pdv{F^1}{x^2}}_{p} & \cdots & \cdots & \eval{\pdv{F^1}{x^m}}_{p} \\[1em] \eval{\pdv{F^2}{x^1}}_{p} & \eval{\pdv{F^2}{x^2}}_{p} & \cdots & \cdots & \eval{\pdv{F^2}{x^m}}_{p} \\[1em] \vdots & \vdots & \vdots & \vdots & \vdots \\[1em] \vdots & \vdots & \vdots & \vdots & \vdots \\[1em] \eval{\pdv{F^n}{x^1}}_{p} & \eval{\pdv{F^n}{x^2}}_{p} & \cdots & \cdots & \eval{\pdv{F^n}{x^m}}_{p}
    \end{bmatrix}
\end{equation}

\end{definition}


\begin{definition}[Matrix representation of the differential of $F: M\to N$]
Let $F\in \cinf[M,N]$, and $p\in M$ induces two charts $p\in (U,\phi)$ and $F(p)\in(V\,\psi)$. The matrix representation of the differential at $p$, $dF_p: T_p N\to T_{F(p)}N$ is nothing but the Jacobian matrix of the coordinate representation at $p$.
\begin{equation}\label{lee-chap3:jacobian-matrix-representation}
        \mcal\{dF_p\} = \begin{bmatrix}\eval{\pdv{\hat{F}^1}{x^1}}_{\phi(p)} & \eval{\pdv{\hat{F}^1}{x^2}}_{\phi(p)} & \cdots & \cdots & \eval{\pdv{\hat{F}^1}{x^m}}_{\phi(p)} \\[1em] \eval{\pdv{\hat{F}^2}{x^1}}_{\phi(p)} & \eval{\pdv{\hat{F}^2}{x^2}}_{\phi(p)} & \cdots & \cdots & \eval{\pdv{\hat{F}^2}{x^m}}_{\phi(p)} \\[1em] \vdots & \vdots & \vdots & \vdots & \vdots \\[1em] \vdots & \vdots & \vdots & \vdots & \vdots \\[1em] \eval{\pdv{\hat{F}^n}{x^1}}_{\phi(p)} & \eval{\pdv{\hat{F}^n}{x^2}}_{\phi(p)} & \cdots & \cdots & \eval{\pdv{\hat{F}^n}{x^m}}_{\phi(p)}\end{bmatrix}
\end{equation}

Alternately, if we write $\hat{p} = \phi(p)$ as the $\realm$ coordinates at $p$, then

\begin{equation}\label{lee-chap3:jacobian-matrix-representation-alternate}
        \mcal\{dF_p\} = \begin{bmatrix}\eval{\pdv{\hat{F}^1}{x^1}}_{\hat{p}} & \eval{\pdv{\hat{F}^1}{x^2}}_{\hat{p}} & \cdots & \cdots & \eval{\pdv{\hat{F}^1}{x^m}}_{\hat{p}} \\[1em] \eval{\pdv{\hat{F}^2}{x^1}}_{\hat{p}} & \eval{\pdv{\hat{F}^2}{x^2}}_{\hat{p}} & \cdots & \cdots & \eval{\pdv{\hat{F}^2}{x^m}}_{\hat{p}} \\[1em] \vdots & \vdots & \vdots & \vdots & \vdots \\[1em] \vdots & \vdots & \vdots & \vdots & \vdots \\[1em] \eval{\pdv{\hat{F}^n}{x^1}}_{\hat{p}} & \eval{\pdv{\hat{F}^n}{x^2}}_{\hat{p}} & \cdots & \cdots & \eval{\pdv{\hat{F}^n}{x^m}}_{\hat{p}}\end{bmatrix}
\end{equation}
\end{definition}

\begin{wts}\label{lee-chap3:rank-of-differential-invariant-under-coordinate-change}
    Let $F$ be a smooth map between $M$ and $N$, at every $p\in M$, $\rank dF_p$ is an invariant over (smoothly compatible) pairs of charts in $M$ and $N$.
\end{wts}
\begin{proof}
    Let $p\in (U_1,\phi_1)\cap (U_2,\phi_2)$, and $F(p)\in (V_1,\psi_1)\cap (V_2,\psi_2)$. Where all charts are smoothly compatible if it makes sense to talk about it. Both $\phi_2\circ\phi_1^{-1}$ and $\psi_2\circ\psi_1^{-1}$ are diffeomorphisms, and the change of basis matrices $\eval{D(\phi_2\circ\phi_1^{-1})}_{\phi_1(p)}$ and $\eval{D(\psi_2\circ\psi_1^{-1})}_{\psi_1(F(p))}$ are invertible by Proposition 3.6d) again, so the ranks $dF_p$ with respect to any of the two charts are equal.
    \[
        \underbracket{\eval{D(\psi_2\circ\psi_1^{-1})}_{\psi_1(F(p))}}_{\text{invertible}}\biggl(\mcal\{dF_p\}\biggr)\underbracket{\eval{D(\phi_2\circ\phi_1^{-1})}_{\phi_1(p)}}_{\text{invertible}}
    \]
\end{proof}



\end{document}